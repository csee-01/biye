<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>适老化导诊APP - 医路导诊</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        /* iOS 风格的细节样式 */
        .ios-blur {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .ios-search::-webkit-input-placeholder {
            color: #999;
            font-size: 17px;
        }
        .organ-highlight {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        
        /* 页面切换动画 */
        .process-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: calc(100% - 60px); /* 减去底部导航栏高度 */
            transition: transform 0.3s ease-out;
            background: white;
            overflow-y: auto;
        }
        .process-page.hidden {
            display: none;
        }

        /* 添加3D箭头效果 */
        .perspective-container {
            perspective: 1000px;
            transform-style: preserve-3d;
        }
        .perspective-container img {
            animation: float 2s infinite ease-in-out;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-white h-screen flex flex-col">
    <!-- 固定顶部区域 -->
    <div class="flex-none">
        <!-- 状态栏 -->
        <div class="flex justify-between items-center px-5 pt-3 pb-1">
            <span class="font-semibold text-sm">9:41</span>
            <div class="flex items-center gap-1">
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="2" y="15" width="4" height="5" rx="1" />
                    <rect x="8" y="11" width="4" height="9" rx="1" />
                    <rect x="14" y="7" width="4" height="13" rx="1" />
                    <rect x="20" y="3" width="4" height="17" rx="1" />
                </svg>
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12,21L15.6,16.2C14.6,15.45 13.35,15 12,15C10.65,15 9.4,15.45 8.4,16.2L12,21" />
                    <path opacity="0.9" d="M12,9C8.5,9 5.3,10.5 3,13.2L4.2,14.6C6.2,12.4 9,11 12,11C15,11 17.8,12.4 19.8,14.6L21,13.2C18.7,10.5 15.5,9 12,9Z" />
                </svg>
                <svg class="w-6 h-3" viewBox="0 0 25 12" fill="currentColor">
                    <rect x="0.5" y="0.5" width="21" height="11" rx="2.5" stroke="currentColor" fill="none" />
                    <rect x="2" y="2" width="18" height="8" rx="1.5" />
                </svg>
            </div>
        </div>

        <!-- 顶部标题栏 -->
        <div class="flex justify-between items-center px-5 py-3">
            <h1 class="text-2xl font-semibold">导诊流程</h1>
            <div class="flex items-center gap-3">
                <button onclick="showARNavigation()" class="text-orange-500 font-medium">AR</button>
                <i class="ri-edit-line text-xl text-orange-500"></i>
            </div>
        </div>

        <!-- 流程进度条 -->
        <div class="px-5 py-3">
            <div class="flex items-center justify-between relative">
                <div class="absolute top-[6px] left-0 right-0 border-t-2 border-dashed border-gray-200"></div>
                
                <button onclick="showProcess('triage')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-orange-500 ring-4 ring-orange-50"></div>
                    <span class="text-[10px] mt-2 text-orange-500">分诊</span>
                </button>
                
                <button onclick="showProcess('registration')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">挂号</span>
                </button>
                
                <button onclick="showProcess('checkin')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">签到</span>
                </button>
                
                <button onclick="showProcess('waiting')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">候诊</span>
                </button>
                
                <button onclick="showProcess('consultation')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">就诊</span>
                </button>
                
                <button onclick="showProcess('examination')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">检查</span>
                </button>
                
                <button onclick="showProcess('medicine')" class="flex flex-col items-center z-10">
                    <div class="w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white"></div>
                    <span class="text-[10px] mt-2 text-gray-400">拿药</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 流程页面容器 -->
    <div class="flex-1 relative">
        <!-- 分诊页面 -->
        <div id="triagePage" class="process-page">
            <!-- iOS 风格搜索框 -->
            <div class="px-5 py-2">
                <div class="flex items-center bg-gray-50 rounded-xl px-4 py-2.5">
                    <i class="ri-menu-line text-xl text-gray-400"></i>
                    <input type="text" placeholder="请描述您的症状..." 
                           class="ios-search flex-1 bg-transparent text-base px-3 outline-none">
                    <i class="ri-mic-line text-xl text-orange-500"></i>
                </div>
            </div>

            <!-- 身体导航区域 -->
            <div class="flex-1 relative overflow-hidden h-[calc(100vh-300px)]">
                <!-- 左侧器官选择 -->
                <div class="absolute left-5 top-4 flex flex-col gap-4 z-10 h-full overflow-y-auto hide-scrollbar pr-2">
                    <!-- 循环系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="heart">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-heart-pulse-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">心脏</span>
                    </button>
                    
                    <!-- 呼吸系统 -->
                    <button class="organ-btn flex flex-col items-center active" data-organ="lungs">
                        <div class="w-14 h-14 rounded-full bg-orange-50 shadow-sm border border-orange-100 flex items-center justify-center organ-icon">
                            <i class="ri-lungs-line text-2xl text-orange-500"></i>
                        </div>
                        <span class="text-xs mt-1 text-orange-500 organ-text">肺部</span>
                    </button>

                    <!-- 消化系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="stomach">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-capsule-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">胃部</span>
                    </button>

                    <!-- 肝胆系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="liver">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-virus-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">肝胆</span>
                    </button>

                    <!-- 泌尿系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="kidney">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-drop-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">肾脏</span>
                    </button>

                    <!-- 骨骼系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="bone">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-bone-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">骨骼</span>
                    </button>

                    <!-- 神经系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="brain">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-brain-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">大脑</span>
                    </button>

                    <!-- 内分泌系统 -->
                    <button class="organ-btn flex flex-col items-center" data-organ="endocrine">
                        <div class="w-14 h-14 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center organ-icon">
                            <i class="ri-test-tube-line text-2xl text-gray-400"></i>
                        </div>
                        <span class="text-xs mt-1 text-gray-600 organ-text">内分泌</span>
                    </button>
                </div>

                <!-- 人体图 -->
                <div class="h-full flex items-center justify-end pr-12">
                    <div class="relative w-44">
                        <!-- 基础人体轮廓 -->
                        <img src="https://img.freepik.com/free-vector/human-body-anatomy-medical-illustration_53876-1330.jpg" 
                             alt="人体轮廓" class="w-full opacity-30">
                        
                        <!-- 器官高亮层 -->
                        <div id="organHighlight" class="absolute top-0 left-0 w-full h-full">
                            <img src="https://img.freepik.com/free-vector/human-heart-anatomy-medical-illustration_53876-1331.jpg" 
                                 alt="心脏" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="heart">
                            <img src="https://img.freepik.com/free-vector/human-lungs-anatomy-medical-illustration_53876-1332.jpg" 
                                 alt="肺部" class="absolute top-0 left-0 w-full organ-image opacity-100" data-organ="lungs">
                            <img src="https://img.freepik.com/free-vector/human-stomach-anatomy-medical-illustration_53876-1333.jpg" 
                                 alt="胃部" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="stomach">
                            <img src="https://img.freepik.com/free-vector/human-liver-anatomy-medical-illustration_53876-1334.jpg" 
                                 alt="肝胆" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="liver">
                            <img src="https://img.freepik.com/free-vector/human-kidney-anatomy-medical-illustration_53876-1335.jpg" 
                                 alt="肾脏" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="kidney">
                            <img src="https://img.freepik.com/free-vector/human-skeleton-anatomy-medical-illustration_53876-1336.jpg" 
                                 alt="骨骼" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="bone">
                            <img src="https://img.freepik.com/free-vector/human-brain-anatomy-medical-illustration_53876-1337.jpg" 
                                 alt="大脑" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="brain">
                            <img src="https://img.freepik.com/free-vector/human-endocrine-system-anatomy-medical-illustration_53876-1338.jpg" 
                                 alt="内分泌" class="absolute top-0 left-0 w-full organ-image opacity-0" data-organ="endocrine">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 挂号页面 -->
        <div id="registrationPage" class="process-page hidden">
            <!-- 科室选择区域 -->
            <div class="px-5 py-4">
                <div class="flex overflow-x-auto hide-scrollbar gap-3 pb-2">
                    <button class="flex-none px-4 py-2 rounded-full bg-orange-50 text-orange-500 text-sm font-medium">
                        内科
                    </button>
                    <button class="flex-none px-4 py-2 rounded-full bg-gray-50 text-gray-500 text-sm font-medium">
                        外科
                    </button>
                    <button class="flex-none px-4 py-2 rounded-full bg-gray-50 text-gray-500 text-sm font-medium">
                        儿科
                    </button>
                    <button class="flex-none px-4 py-2 rounded-full bg-gray-50 text-gray-500 text-sm font-medium">
                        妇产科
                    </button>
                    <button class="flex-none px-4 py-2 rounded-full bg-gray-50 text-gray-500 text-sm font-medium">
                        骨科
                    </button>
                </div>
            </div>

            <!-- 医生列表 -->
            <div class="px-5">
                <!-- 医生卡片 -->
                <div class="bg-white rounded-xl p-4 mb-4 border border-gray-100">
                    <div class="flex items-start">
                        <img src="doctor-avatar.png" alt="医生头像" class="w-16 h-16 rounded-lg object-cover">
                        <div class="ml-4 flex-1">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold">张医生</h3>
                                    <p class="text-sm text-gray-500 mt-1">主任医师 | 内科</p>
                                </div>
                                <span class="text-orange-500 text-sm">可预约</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-2 line-clamp-2">
                                专长：心血管疾病、高血压、冠心病等内科常见病诊治
                            </p>
                            <div class="flex justify-between items-center mt-3">
                                <div class="flex items-center">
                                    <i class="ri-star-fill text-yellow-400 text-sm"></i>
                                    <span class="text-sm text-gray-600 ml-1">4.9</span>
                                    <span class="text-sm text-gray-400 ml-2">问诊量：1.2k</span>
                                </div>
                                <button class="px-4 py-1.5 bg-orange-500 text-white text-sm rounded-full">
                                    立即预约
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 更多医生卡片... -->
            </div>

            <!-- 日期选择 -->
            <div class="px-5 mt-6">
                <h3 class="text-lg font-semibold mb-4">选择就诊日期</h3>
                <div class="flex overflow-x-auto hide-scrollbar gap-3 pb-2">
                    <button class="flex-none w-16 p-3 rounded-xl bg-orange-50 border-2 border-orange-500">
                        <div class="text-center">
                            <span class="block text-sm text-gray-400">周一</span>
                            <span class="block text-lg font-semibold text-orange-500 mt-1">12</span>
                        </div>
                    </button>
                    <button class="flex-none w-16 p-3 rounded-xl bg-gray-50 border border-gray-100">
                        <div class="text-center">
                            <span class="block text-sm text-gray-400">周二</span>
                            <span class="block text-lg font-semibold text-gray-600 mt-1">13</span>
                        </div>
                    </button>
                    <!-- 更多日期... -->
                </div>
            </div>

            <!-- 时间段选择 -->
            <div class="px-5 mt-6">
                <h3 class="text-lg font-semibold mb-4">选择就诊时间</h3>
                <div class="grid grid-cols-3 gap-3">
                    <button class="p-3 rounded-xl bg-orange-50 border-2 border-orange-500">
                        <span class="block text-orange-500 text-center">09:00</span>
                    </button>
                    <button class="p-3 rounded-xl bg-gray-50 border border-gray-100">
                        <span class="block text-gray-400 text-center">09:30</span>
                    </button>
                    <!-- 更多时间段... -->
                </div>
            </div>

            <!-- 确认按钮 -->
            <div class="px-5 mt-8 mb-6">
                <button class="w-full py-3 bg-orange-500 text-white rounded-full text-lg font-medium">
                    确认预约
                </button>
            </div>
        </div>

        <!-- 签到页面 -->
        <div id="checkinPage" class="process-page hidden">
            <!-- 就诊信息卡片 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-lg font-semibold">就诊信息</h3>
                        <span class="text-orange-500 text-sm">待签到</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center text-gray-600">
                            <i class="ri-user-line text-lg w-6"></i>
                            <span class="text-sm">张医生 | 主任医师</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="ri-time-line text-lg w-6"></i>
                            <span class="text-sm">2024年3月12日 09:00</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="ri-map-pin-line text-lg w-6"></i>
                            <span class="text-sm">内科门诊 2号诊室</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="ri-vip-line text-lg w-6"></i>
                            <span class="text-sm">就诊卡号：1234 5678 9012</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 签到方式 -->
            <div class="px-5 py-4">
                <h3 class="text-lg font-semibold mb-4">选择签到方式</h3>
                
                <!-- 扫码签到 -->
                <div class="bg-white rounded-xl p-4 mb-4 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center">
                                <i class="ri-qr-code-line text-xl text-orange-500"></i>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">扫码签到</h4>
                                <p class="text-sm text-gray-500 mt-1">使用手机扫描二维码完成签到</p>
                            </div>
                        </div>
                        <i class="ri-arrow-right-s-line text-xl text-gray-400"></i>
                    </div>
                </div>

                <!-- 人脸识别 -->
                <div class="bg-white rounded-xl p-4 mb-4 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center">
                                <i class="ri-face-recognition-line text-xl text-orange-500"></i>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">人脸识别</h4>
                                <p class="text-sm text-gray-500 mt-1">使用人脸识别快速完成签到</p>
                            </div>
                        </div>
                        <i class="ri-arrow-right-s-line text-xl text-gray-400"></i>
                    </div>
                </div>

                <!-- 工作人员协助 -->
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center">
                                <i class="ri-service-line text-xl text-orange-500"></i>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">工作人员协助</h4>
                                <p class="text-sm text-gray-500 mt-1">寻找工作人员帮助签到</p>
                            </div>
                        </div>
                        <i class="ri-arrow-right-s-line text-xl text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- AR导航按钮 -->
            <div class="px-5 mt-4">
                <button onclick="showARNavigation()" class="w-full py-3 bg-orange-500 text-white rounded-full text-lg font-medium flex items-center justify-center">
                    <i class="ri-road-map-line mr-2"></i>
                    AR导航至诊室
                </button>
            </div>
        </div>

        <!-- 候诊页面 -->
        <div id="waitingPage" class="process-page hidden">
            <!-- 候诊信息卡片 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold">内科门诊</h3>
                            <p class="text-sm text-gray-500 mt-1">2号诊室 | 张医生</p>
                        </div>
                        <div class="text-right">
                            <span class="text-orange-500 text-sm">正在候诊</span>
                            <p class="text-sm text-gray-500 mt-1">诊室：2楼东区</p>
                        </div>
                    </div>

                    <!-- 候诊进度 -->
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">前方等待</span>
                            <span class="text-lg font-semibold text-orange-500">3人</span>
                        </div>
                        <div class="relative h-2 bg-gray-100 rounded-full overflow-hidden">
                            <div class="absolute left-0 top-0 h-full w-3/4 bg-orange-500 rounded-full"></div>
                        </div>
                        <div class="flex items-center justify-between text-sm text-gray-500">
                            <span>已等待：15分钟</span>
                            <span>预计等待：20分钟</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 提醒设置 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-4">提醒设置</h3>
                    <div class="space-y-4">
                        <!-- 声音提醒 -->
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center">
                                    <i class="ri-volume-up-line text-xl text-orange-500"></i>
                                </div>
                                <span class="ml-3 font-medium">声音提醒</span>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-checked:bg-orange-500 rounded-full"></div>
                            </label>
                        </div>

                        <!-- 震动提醒 -->
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center">
                                    <i class="ri-shake-line text-xl text-orange-500"></i>
                                </div>
                                <span class="ml-3 font-medium">震动提醒</span>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-checked:bg-orange-500 rounded-full"></div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 温馨提示 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-3">温馨提示</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">请保持手机畅通，将在轮到您就诊前通知您</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">您可以在医院周边自由活动，但请注意保持在提醒范围内</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">如需取消就诊，请提前告知工作人员</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 操作按钮 -->
            <div class="px-5 py-4 space-y-3">
                <button onclick="showARNavigation()" class="w-full py-3 bg-orange-500 text-white rounded-full text-lg font-medium flex items-center justify-center">
                    <i class="ri-map-pin-line mr-2"></i>
                    查看诊室位置
                </button>
                <button class="w-full py-3 bg-gray-100 text-gray-600 rounded-full text-lg font-medium">
                    取消就诊
                </button>
            </div>
        </div>

        <!-- 就诊页面 -->
        <div id="consultationPage" class="process-page hidden">
            <!-- 就诊状态卡片 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold">内科门诊</h3>
                            <p class="text-sm text-gray-500 mt-1">2号诊室 | 张医生</p>
                        </div>
                        <div class="text-right">
                            <span class="text-orange-500 text-sm">正在就诊</span>
                            <p class="text-sm text-gray-500 mt-1">诊室：2楼东区</p>
                        </div>
                    </div>

                    <!-- 就诊时间 -->
                    <div class="flex items-center justify-between py-2 border-t border-gray-100">
                        <div class="flex items-center">
                            <i class="ri-time-line text-lg text-gray-400 mr-2"></i>
                            <span class="text-sm text-gray-600">就诊时间</span>
                        </div>
                        <span class="text-sm text-gray-600">2024-03-12 09:15</span>
                    </div>
                </div>
            </div>

            <!-- 就诊指南 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-4">就诊指南</h3>
                    <div class="space-y-4">
                        <!-- 步骤1 -->
                        <div class="flex items-start">
                            <div class="w-6 h-6 rounded-full bg-orange-50 flex items-center justify-center flex-shrink-0">
                                <span class="text-sm text-orange-500 font-medium">1</span>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">准备就诊资料</h4>
                                <p class="text-sm text-gray-500 mt-1">请准备好就诊卡、检查报告等相关资料</p>
                            </div>
                        </div>

                        <!-- 步骤2 -->
                        <div class="flex items-start">
                            <div class="w-6 h-6 rounded-full bg-orange-50 flex items-center justify-center flex-shrink-0">
                                <span class="text-sm text-orange-500 font-medium">2</span>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">描述症状</h4>
                                <p class="text-sm text-gray-500 mt-1">向医生详细描述您的症状、发病时间和持续时间</p>
                            </div>
                        </div>

                        <!-- 步骤3 -->
                        <div class="flex items-start">
                            <div class="w-6 h-6 rounded-full bg-orange-50 flex items-center justify-center flex-shrink-0">
                                <span class="text-sm text-orange-500 font-medium">3</span>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-medium">配合检查</h4>
                                <p class="text-sm text-gray-500 mt-1">根据医生建议进行必要的检查和治疗</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 语音助手 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">语音助手</h3>
                        <span class="text-sm text-orange-500">已开启</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">语音助手可以帮助您更好地与医生沟通</p>
                    <button class="w-full py-3 bg-orange-50 text-orange-500 rounded-xl text-lg font-medium flex items-center justify-center">
                        <i class="ri-mic-line mr-2"></i>
                        按住说话
                    </button>
                </div>
            </div>

            <!-- 操作按钮 -->
            <div class="px-5 py-4">
                <button onclick="showARNavigation()" class="w-full py-3 bg-orange-500 text-white rounded-full text-lg font-medium flex items-center justify-center">
                    <i class="ri-map-pin-line mr-2"></i>
                    查看检查科室位置
                </button>
            </div>
        </div>

        <!-- 检查页面 -->
        <div id="examinationPage" class="process-page hidden">
            <!-- 检查信息卡片 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold">检查项目</h3>
                            <p class="text-sm text-gray-500 mt-1">共3项检查</p>
                        </div>
                        <div class="text-right">
                            <span class="text-orange-500 text-sm">进行中</span>
                            <p class="text-sm text-gray-500 mt-1">已完成1项</p>
                        </div>
                    </div>

                    <!-- 检查进度条 -->
                    <div class="relative h-2 bg-gray-100 rounded-full overflow-hidden mb-4">
                        <div class="absolute left-0 top-0 h-full w-1/3 bg-orange-500 rounded-full"></div>
                    </div>
                </div>
            </div>

            <!-- 检查列表 -->
            <div class="px-5 py-4">
                <!-- 已完成检查 -->
                <div class="bg-white rounded-xl p-4 border border-gray-100 mb-4">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center flex-shrink-0">
                            <i class="ri-checkbox-circle-line text-xl text-green-500"></i>
                        </div>
                        <div class="ml-3 flex-1">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium">血常规检查</h4>
                                <span class="text-sm text-green-500">已完成</span>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">检验科 | 1楼西区</p>
                            <div class="flex items-center text-sm text-gray-400 mt-2">
                                <i class="ri-time-line mr-1"></i>
                                <span>完成时间：09:30</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 当前检查 -->
                <div class="bg-white rounded-xl p-4 border-2 border-orange-500 mb-4">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center flex-shrink-0">
                            <i class="ri-pulse-line text-xl text-orange-500"></i>
                        </div>
                        <div class="ml-3 flex-1">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium">心电图检查</h4>
                                <span class="text-sm text-orange-500">待检查</span>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">心电图室 | 2楼东区</p>
                            <div class="flex items-center text-sm text-gray-400 mt-2">
                                <i class="ri-user-line mr-1"></i>
                                <span>前方等待：2人</span>
                            </div>
                            <button onclick="showARNavigation()" class="mt-3 w-full py-2 bg-orange-50 text-orange-500 rounded-lg text-sm font-medium flex items-center justify-center">
                                <i class="ri-map-pin-line mr-1"></i>
                                导航至检查室
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 待检查 -->
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center flex-shrink-0">
                            <i class="ri-microscope-line text-xl text-gray-400"></i>
                        </div>
                        <div class="ml-3 flex-1">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium">B超检查</h4>
                                <span class="text-sm text-gray-400">未开始</span>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">B超室 | 2楼西区</p>
                            <div class="flex items-center text-sm text-gray-400 mt-2">
                                <i class="ri-information-line mr-1"></i>
                                <span>请完成心电图检查后再来</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 检查注意事项 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-3">检查注意事项</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">请按照检查顺序依次进行，保持通讯畅通</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">如有不适，请及时告知医护人员</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">检查完成后，请返回原诊室找医生</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 拿药页面 -->
        <div id="medicinePage" class="process-page hidden">
            <!-- 取药信息卡片 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold">取药信息</h3>
                            <p class="text-sm text-gray-500 mt-1">处方单号：RX2024031201</p>
                        </div>
                        <div class="text-right">
                            <span class="text-orange-500 text-sm">待取药</span>
                            <p class="text-sm text-gray-500 mt-1">药房：1楼东区</p>
                        </div>
                    </div>

                    <!-- 取药进度 -->
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">前方等待</span>
                            <span class="text-lg font-semibold text-orange-500">5人</span>
                        </div>
                        <div class="relative h-2 bg-gray-100 rounded-full overflow-hidden">
                            <div class="absolute left-0 top-0 h-full w-1/2 bg-orange-500 rounded-full"></div>
                        </div>
                        <div class="flex items-center justify-between text-sm text-gray-500">
                            <span>预计等待时间：10分钟</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 药品清单 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-4">药品清单</h3>
                    <!-- 药品1 -->
                    <div class="border-b border-gray-100 pb-4 mb-4">
                        <div class="flex items-start">
                            <img src="medicine1.png" alt="药品图片" class="w-16 h-16 rounded-lg object-cover">
                            <div class="ml-3 flex-1">
                                <h4 class="font-medium">阿莫西林胶囊</h4>
                                <p class="text-sm text-gray-500 mt-1">0.25g*24粒/盒</p>
                                <div class="flex items-center justify-between mt-2">
                                    <span class="text-sm text-gray-600">用法：一日三次，一次一粒</span>
                                    <span class="text-sm text-orange-500">2盒</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 药品2 -->
                    <div class="border-b border-gray-100 pb-4 mb-4">
                        <div class="flex items-start">
                            <img src="medicine2.png" alt="药品图片" class="w-16 h-16 rounded-lg object-cover">
                            <div class="ml-3 flex-1">
                                <h4 class="font-medium">布洛芬缓释胶囊</h4>
                                <p class="text-sm text-gray-500 mt-1">0.3g*12粒/盒</p>
                                <div class="flex items-center justify-between mt-2">
                                    <span class="text-sm text-gray-600">用法：一日两次，一次一粒</span>
                                    <span class="text-sm text-orange-500">1盒</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 总计 -->
                    <div class="flex items-center justify-between pt-2">
                        <span class="text-gray-600">总计</span>
                        <span class="text-lg font-semibold text-orange-500">¥89.50</span>
                    </div>
                </div>
            </div>

            <!-- 用药指导 -->
            <div class="px-5 py-4">
                <div class="bg-white rounded-xl p-4 border border-gray-100">
                    <h3 class="text-lg font-semibold mb-3">用药指导</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">请按医嘱服用药物，不要擅自增减用量</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">服药期间如有不适，请及时联系医生</span>
                        </li>
                        <li class="flex items-start">
                            <i class="ri-information-line text-orange-500 mt-0.5 flex-shrink-0"></i>
                            <span class="ml-2 text-sm text-gray-600">药品请存放在阴凉干燥处，避免儿童接触</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 操作按钮 -->
            <div class="px-5 py-4 space-y-3">
                <button onclick="showARNavigation()" class="w-full py-3 bg-orange-500 text-white rounded-full text-lg font-medium flex items-center justify-center">
                    <i class="ri-map-pin-line mr-2"></i>
                    导航至药房
                </button>
                <button class="w-full py-3 bg-orange-50 text-orange-500 rounded-full text-lg font-medium">
                    查看电子处方
                </button>
            </div>
        </div>
    </div>

    <!-- 固定底部导航栏 -->
    <div class="flex-none h-[60px] flex justify-around items-center py-4 bg-white border-t border-gray-100">
        <button class="flex flex-col items-center">
            <i class="ri-hospital-line text-2xl text-orange-500"></i>
            <span class="text-xs mt-1 text-orange-500">医路</span>
        </button>
        <button class="flex flex-col items-center">
            <i class="ri-question-line text-2xl text-gray-400"></i>
            <span class="text-xs mt-1 text-gray-400">帮助</span>
        </button>
        <button class="flex flex-col items-center">
            <i class="ri-user-line text-2xl text-gray-400"></i>
            <span class="text-xs mt-1 text-gray-400">我的</span>
        </button>
    </div>

    <!-- 二级页面：AR导航 -->
    <div id="arNavigationPage" class="fixed inset-0 bg-white transform translate-x-full transition-transform duration-300 z-50">
        <!-- AR相机视图 -->
        <div class="relative h-screen">
            <!-- 实时相机预览 -->
            <div class="absolute inset-0 bg-black">
                <img src="https://img.freepik.com/free-photo/hospital-corridor-with-empty-chairs_1339-7227.jpg" 
                     alt="医院走廊" class="w-full h-full object-cover">
            </div>

            <!-- 顶部导航栏 -->
            <div class="absolute top-0 left-0 right-0 bg-black bg-opacity-50 text-white px-5 py-4 flex items-center justify-between">
                <button onclick="hideARNavigation()" class="flex items-center">
                    <i class="ri-arrow-left-line text-2xl"></i>
                    <span class="ml-2">返回</span>
                </button>
                <div class="flex items-center">
                    <i class="ri-camera-line text-xl"></i>
                    <span class="ml-2">AR导航</span>
                </div>
                <div class="w-8"></div>
            </div>

            <!-- 速度指示器 -->
            <div class="absolute top-16 left-5 bg-white rounded-full px-4 py-2 flex items-center">
                <span class="text-xl font-semibold">5.23</span>
                <span class="text-sm text-gray-500 ml-1">km/h</span>
            </div>

            <!-- AR导航元素 -->
            <div class="absolute inset-0 flex items-center justify-center">
                <!-- 3D箭头指示 -->
                <div class="perspective-container">
                    <div class="flex flex-col items-center gap-20">
                        <img src="https://cdn3.iconfinder.com/data/icons/arrows-set-12/512/arrow-forward-3d-512.png" 
                             alt="导航箭头" class="w-20 h-20 opacity-80">
                        <img src="https://cdn3.iconfinder.com/data/icons/arrows-set-12/512/arrow-forward-3d-512.png" 
                             alt="导航箭头" class="w-16 h-16 opacity-60">
                        <img src="https://cdn3.iconfinder.com/data/icons/arrows-set-12/512/arrow-forward-3d-512.png" 
                             alt="导航箭头" class="w-12 h-12 opacity-40">
                    </div>
                </div>
            </div>

            <!-- 右侧功能按钮 -->
            <div class="absolute right-5 top-1/4 flex flex-col gap-4">
                <button class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center">
                    <i class="ri-camera-switch-line text-white text-xl"></i>
                </button>
                <button class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center">
                    <i class="ri-screenshot-2-line text-white text-xl"></i>
                </button>
                <button class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center">
                    <i class="ri-volume-up-line text-white text-xl"></i>
                </button>
            </div>

            <!-- 底部导航卡片 -->
            <div class="absolute bottom-8 left-5 right-5">
                <div class="bg-white rounded-xl p-4 shadow-lg">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center">
                                <i class="ri-hospital-line text-white text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-medium">内科 - 202诊室</h3>
                                <p class="text-sm text-gray-500">2号楼 2楼</p>
                            </div>
                        </div>
                    </div>

                    <!-- 距离进度条 -->
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-500">剩余 50米</span>
                            <span class="text-blue-500">约1分钟</span>
                        </div>
                        <div class="relative h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="absolute left-0 top-0 h-full w-3/4 bg-blue-500 rounded-full"></div>
                        </div>
                    </div>

                    <!-- 导航提示 -->
                    <div class="flex items-center mt-4 py-3 px-4 bg-gray-50 rounded-xl">
                        <i class="ri-arrow-right-line text-blue-500 text-xl"></i>
                        <span class="ml-3 text-gray-600">沿走廊直行，目的地在右手边</span>
                        <i class="ri-arrow-right-s-line text-gray-400 ml-auto"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 流程页面切换
        function showProcess(processId) {
            // 隐藏所有流程页面
            document.querySelectorAll('.process-page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // 显示选中的流程页面
            document.getElementById(processId + 'Page').classList.remove('hidden');
            
            // 更新进度条状态
            updateProgressBar(processId);
        }

        // 更新进度条状态
        function updateProgressBar(currentProcess) {
            const processes = ['triage', 'registration', 'checkin', 'waiting', 'consultation', 'examination', 'medicine'];
            const currentIndex = processes.indexOf(currentProcess);
            
            processes.forEach((process, index) => {
                const button = document.querySelector(`button[onclick="showProcess('${process}')"]`);
                const dot = button.querySelector('div');
                const text = button.querySelector('span');
                
                if (index === currentIndex) {
                    // 当前步骤
                    dot.className = 'w-3 h-3 rounded-full bg-orange-500 ring-4 ring-orange-50';
                    text.className = 'text-[10px] mt-2 text-orange-500';
                } else {
                    // 其他步骤
                    dot.className = 'w-3 h-3 rounded-full bg-gray-200 ring-4 ring-white';
                    text.className = 'text-[10px] mt-2 text-gray-400';
                }
            });
        }

        // AR导航页面控制
        function showARNavigation() {
            document.getElementById('arNavigationPage').style.transform = 'translateX(0)';
        }

        function hideARNavigation() {
            document.getElementById('arNavigationPage').style.transform = 'translateX(100%)';
        }

        // 器官切换功能
        document.addEventListener('DOMContentLoaded', function() {
            const organButtons = document.querySelectorAll('.organ-btn');
            const organImages = document.querySelectorAll('.organ-image');
            
            // 初始化所有器官图标为可见状态
            organButtons.forEach(btn => {
                const icon = btn.querySelector('.organ-icon');
                icon.style.display = 'flex';
                icon.style.opacity = '1';
                icon.style.visibility = 'visible';
            });
            
            organButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const selectedOrgan = this.getAttribute('data-organ');
                    
                    // 更新按钮样式
                    organButtons.forEach(btn => {
                        const icon = btn.querySelector('.organ-icon');
                        const text = btn.querySelector('.organ-text');
                        const isSelected = btn === this;
                        
                        // 保持图标始终显示
                        icon.style.display = 'flex';
                        icon.style.opacity = '1';
                        icon.style.visibility = 'visible';
                        
                        // 更新图标样式
                        icon.className = `w-14 h-14 rounded-full ${isSelected ? 'bg-orange-50 border-orange-100' : 'bg-white border-gray-100'} shadow-sm border flex items-center justify-center organ-icon`;
                        icon.querySelector('i').className = `text-2xl ${isSelected ? 'text-orange-500' : 'text-gray-400'} ${icon.querySelector('i').className.split(' ').pop()}`;
                        text.className = `text-xs mt-1 ${isSelected ? 'text-orange-500' : 'text-gray-600'} organ-text`;
                    });
                    
                    // 更新人体图高亮
                    organImages.forEach(img => {
                        if (img.getAttribute('data-organ') === selectedOrgan) {
                            img.style.opacity = '1';
                            img.classList.add('organ-highlight');
                        } else {
                            img.style.opacity = '0';
                            img.classList.remove('organ-highlight');
                        }
                    });
                });
            });
        });

        // 初始化显示分诊页面
        showProcess('triage');
    </script>
</body>
</html> 